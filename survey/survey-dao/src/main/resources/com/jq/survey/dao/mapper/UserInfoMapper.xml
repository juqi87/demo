<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.jq.survey.dao.mapper.UserInfoMapper" >
  <resultMap id="BaseResultMap" type="com.jq.survey.dao.entity.UserInfoDO" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Mon Jul 11 16:12:39 CST 2016.
    -->
    <id column="USER_ID" property="userId" jdbcType="INTEGER" />
    <result column="LOGIN_NAME" property="loginName" jdbcType="VARCHAR" />
    <result column="REAL_NAME" property="realName" jdbcType="VARCHAR" />
    <result column="PASSWORD" property="password" jdbcType="VARCHAR" />
    <result column="TEL" property="tel" jdbcType="VARCHAR" />
    <result column="EMAIL" property="email" jdbcType="VARCHAR" />
    <result column="DEPT" property="dept" jdbcType="VARCHAR" />
    <result column="STAT" property="stat" jdbcType="CHAR" />
    <result column="ROLE_ID" property="roleId" jdbcType="INTEGER" />
    <result column="CREATE_TIME" property="createTime" jdbcType="TIMESTAMP" />
    <result column="UPDATE_TIME" property="updateTime" jdbcType="TIMESTAMP" />
  </resultMap>
  
  <!-- 用于select查询公用抽取的列 -->
  <sql id="userInfoSelect">
        select 
        	USER_ID ,
        	LOGIN_NAME ,
        	REAL_NAME ,
        	PASSWORD ,
        	TEL,
        	EMAIL,
        	DEPT,
        	STAT,
        	ROLE_ID,
        	CREATE_TIME,
        	UPDATE_TIME
        from USER_INFO 
	</sql>
	
	<select id="selectByCondition"  resultMap="BaseResultMap" parameterType="com.jq.survey.dao.entity.UserInfoDO">
		<include refid="userInfoSelect"/>
		where 1=1
			<if test="userId != null and userId != ''">  
	            <![CDATA[ and USER_ID =  #{userId}]]>
			</if>
			<if test="loginName != null and loginName != ''">  
	            <![CDATA[ and LOGIN_NAME =  #{loginName}]]>
			</if>
			<if test="stat != null and stat != ''">  
	            <![CDATA[ and STAT =  #{stat}]]>
			</if>
			<if test="roleId != null and roleId != ''">  
	            <![CDATA[ and ROLE_ID =  #{roleId}]]>
			</if>
	</select>
	
	<insert id="insert" parameterType="com.jq.survey.dao.entity.UserInfoDO">
		insert into USER_INFO(
			USER_ID ,
        	LOGIN_NAME ,
        	REAL_NAME ,
        	PASSWORD ,
        	TEL,
        	EMAIL,
        	DEPT,
        	STAT,
        	ROLE_ID,
        	CREATE_TIME,
        	UPDATE_TIME
		)values(
			#{userId},
			#{loginName},
			#{realName},
			#{password},
			#{tel},
			#{email},
			#{dept},
			#{stat},
			#{roleId},
			#{createTime},
			#{updateTime}
		)
	</insert>	
  
</mapper>